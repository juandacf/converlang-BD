ID,Tipo,Módulo,Descripción,Prioridad,Criterios de aceptación (Gherkin),Dependencias,Fuente
FR-001,FR,Usuarios,Crear usuario con validaciones de país/idiomas/banco usando fun_insert_usuarios,Must,"Dado un payload válido, Cuando llamo fun_insert_usuarios, Entonces se crea users.id_user y se asigna rol 'user'.","users, user_role_assignments, fun_insert_usuarios, fun_valida_pais, fun_valida_idioma, fun_valida_banco, fun_increme_user",fileciteturn0file5 + fileciteturn0file10 + fileciteturn0file7 + fileciteturn0file4 + fileciteturn0file11
FR-002,FR,Usuarios,Validar existencia/estatus de usuario (fun_valida_usuario),Must,"Dado un id de usuario, Cuando ejecuto fun_valida_usuario, Entonces retorna TRUE si existe y está activo, FALSE si no.","users, fun_valida_usuario",fileciteturn0file6
FR-003,FR,Teacher Profiles,Crear perfil de teacher con validaciones y rol (fun_insert_teacher_profile),Must,"Dado un usuario con rol 'teacher', Cuando llamo fun_insert_teacher_profile, Entonces se inserta teacher_profiles y valida idioma/tarifa/experiencia.","teacher_profiles, user_role_assignments, fun_insert_teacher_profile, fun_valida_idioma, fun_valida_usuario",fileciteturn0file8 + fileciteturn0file7 + fileciteturn0file6
FR-004,FR,Matching,Crear match por likes mutuos (fun_insert_match),Must,"Dado dos usuarios con likes mutuos, Cuando llamo fun_insert_match, Entonces se crea user_matches(user_1,user_2) sin duplicados.","user_likes, user_matches, fun_insert_match, fun_valida_usuario",fileciteturn0file9 + fileciteturn0file6
FR-005,FR,Auditoría,Auditar INSERT/UPDATE/DELETE con trigger audit_changes(),Must,"Dado una operación DML en tablas críticas, Cuando se ejecuta, Entonces se inserta un registro en audit_logs con old/new, usuario e IP.","audit_logs, audit_changes() (trigger function)",fileciteturn0file3
FR-006,FR,User Progress,Sellar last_updated en UPDATE con trigger update_user_progress_timestamp,Must,"Dado un UPDATE a user_progress, Cuando cambia una fila, Entonces last_updated se establece a CURRENT_TIMESTAMP automáticamente.","user_progress, trigger update_user_progress_timestamp",fileciteturn0file2
FR-007,FR,Estadísticas,Generar reporte mensual (proc_generate_monthly_stats) y actualizar métricas,Should,"Dado el cierre de mes, Cuando llamo proc_generate_monthly_stats, Entonces inserta reporte en audit_logs y actualiza user_progress.","procedure proc_generate_monthly_stats, audit_logs, user_progress, sessions",fileciteturn0file0
FR-008,FR,Identificadores,Generar id_user secuencial con fun_increme_user(),Must,"Dado un alta de usuario, Cuando no se provee id explícito, Entonces se asigna el siguiente valor de users_id_user_seq.","users, users_id_user_seq, fun_increme_user",fileciteturn0file11
FR-009,FR,Usuarios,"Actualizar perfil (nombre, apellido, descripción) en 'users'",Should,"Dado el módulo Usuarios, Cuando ejecuto 'Actualizar perfil (nombre, apellido, descripción)', Entonces la operación persiste/consulta en users con integridad referencial.",users,fileciteturn0file1
FR-010,FR,Usuarios,Desactivar cuenta (is_active=false) con auditoría en 'users',Must,"Dado el módulo Usuarios, Cuando ejecuto 'Desactivar cuenta (is_active=false) con auditoría', Entonces la operación persiste/consulta en users con integridad referencial.",users,fileciteturn0file1
FR-011,FR,Usuarios,Listar usuarios (paginado y filtros por país/idiomas) en 'users',Should,"Dado el módulo Usuarios, Cuando ejecuto 'Listar usuarios (paginado y filtros por país/idiomas)', Entonces la operación persiste/consulta en users con integridad referencial.",users,fileciteturn0file1
FR-012,FR,Usuarios,Consultar usuario por email (índice idx_users_email) en 'users',Should,"Dado el módulo Usuarios, Cuando ejecuto 'Consultar usuario por email (índice idx_users_email)', Entonces la operación persiste/consulta en users con integridad referencial.","users, índices relacionados",fileciteturn0file1
FR-013,FR,Usuarios,Marcar email verificado en 'users',Should,"Dado el módulo Usuarios, Cuando ejecuto 'Marcar email verificado', Entonces la operación persiste/consulta en users con integridad referencial.",users,fileciteturn0file1
FR-014,FR,Usuarios,Registrar last_login en autenticación en 'users',Should,"Dado el módulo Usuarios, Cuando ejecuto 'Registrar last_login en autenticación', Entonces la operación persiste/consulta en users con integridad referencial.",users,fileciteturn0file1
FR-015,FR,Usuarios,"Cambiar contraseña (solo hash, sin guardar en texto plano) en 'users'",Must,"Dado el módulo Usuarios, Cuando ejecuto 'Cambiar contraseña (solo hash, sin guardar en texto plano)', Entonces la operación persiste/consulta en users con integridad referencial.",users,fileciteturn0file1
FR-016,FR,Roles y Asignaciones,Asignar rol a usuario en 'user_role_assignments',Should,"Dado el módulo Roles y Asignaciones, Cuando ejecuto 'Asignar rol a usuario', Entonces la operación persiste/consulta en user_role_assignments con integridad referencial.",user_role_assignments,fileciteturn0file1
FR-017,FR,Roles y Asignaciones,Revocar rol de usuario en 'user_role_assignments',Should,"Dado el módulo Roles y Asignaciones, Cuando ejecuto 'Revocar rol de usuario', Entonces la operación persiste/consulta en user_role_assignments con integridad referencial.",user_role_assignments,fileciteturn0file1
FR-018,FR,Roles y Asignaciones,Listar roles por usuario en 'user_role_assignments',Should,"Dado el módulo Roles y Asignaciones, Cuando ejecuto 'Listar roles por usuario', Entonces la operación persiste/consulta en user_role_assignments con integridad referencial.",user_role_assignments,fileciteturn0file1
FR-019,FR,Roles y Asignaciones,Listar usuarios por rol en 'user_role_assignments',Should,"Dado el módulo Roles y Asignaciones, Cuando ejecuto 'Listar usuarios por rol', Entonces la operación persiste/consulta en user_role_assignments con integridad referencial.",user_role_assignments,fileciteturn0file1
FR-020,FR,Teacher Profiles,Actualizar certificaciones/título en 'teacher_profiles',Must,"Dado el módulo Teacher Profiles, Cuando ejecuto 'Actualizar certificaciones/título', Entonces la operación persiste/consulta en teacher_profiles con integridad referencial.",teacher_profiles,fileciteturn0file1 + fileciteturn0file8
FR-021,FR,Teacher Profiles,Actualizar tarifa por hora en 'teacher_profiles',Should,"Dado el módulo Teacher Profiles, Cuando ejecuto 'Actualizar tarifa por hora', Entonces la operación persiste/consulta en teacher_profiles con integridad referencial.",teacher_profiles,fileciteturn0file1 + fileciteturn0file8
FR-022,FR,Teacher Profiles,Verificar perfil (is_verified=true) en 'teacher_profiles',Should,"Dado el módulo Teacher Profiles, Cuando ejecuto 'Verificar perfil (is_verified=true)', Entonces la operación persiste/consulta en teacher_profiles con integridad referencial.",teacher_profiles,fileciteturn0file1 + fileciteturn0file8
FR-023,FR,Teacher Profiles,Listar teachers verificados por idioma (índice filtrado) en 'teacher_profiles',Should,"Dado el módulo Teacher Profiles, Cuando ejecuto 'Listar teachers verificados por idioma (índice filtrado)', Entonces la operación persiste/consulta en teacher_profiles con integridad referencial.","teacher_profiles, índices relacionados",fileciteturn0file1 + fileciteturn0file8
FR-024,FR,Sessions,Crear sesión exchange en 'sessions',Should,"Dado el módulo Sessions, Cuando ejecuto 'Crear sesión exchange', Entonces la operación persiste/consulta en sessions con integridad referencial.",sessions,fileciteturn0file1 + fileciteturn0file3
FR-025,FR,Sessions,Crear sesión teaching en 'sessions',Must,"Dado el módulo Sessions, Cuando ejecuto 'Crear sesión teaching', Entonces la operación persiste/consulta en sessions con integridad referencial.",sessions,fileciteturn0file1 + fileciteturn0file3
FR-026,FR,Sessions,Reagendar sesión (cambiar start/end_time) en 'sessions',Should,"Dado el módulo Sessions, Cuando ejecuto 'Reagendar sesión (cambiar start/end_time)', Entonces la operación persiste/consulta en sessions con integridad referencial.",sessions,fileciteturn0file1 + fileciteturn0file3
FR-027,FR,Sessions,Cancelar sesión (session_status='canceled') en 'sessions',Should,"Dado el módulo Sessions, Cuando ejecuto 'Cancelar sesión (session_status='canceled')', Entonces la operación persiste/consulta en sessions con integridad referencial.",sessions,fileciteturn0file1 + fileciteturn0file3
FR-028,FR,Sessions,Completar sesión (session_status='completed') en 'sessions',Should,"Dado el módulo Sessions, Cuando ejecuto 'Completar sesión (session_status='completed')', Entonces la operación persiste/consulta en sessions con integridad referencial.",sessions,fileciteturn0file1 + fileciteturn0file3
FR-029,FR,Sessions,Listar sesiones por usuario y estado (índice compuesto) en 'sessions',Should,"Dado el módulo Sessions, Cuando ejecuto 'Listar sesiones por usuario y estado (índice compuesto)', Entonces la operación persiste/consulta en sessions con integridad referencial.","sessions, índices relacionados",fileciteturn0file1 + fileciteturn0file3
FR-030,FR,Sessions,Registrar language_used en 'sessions',Must,"Dado el módulo Sessions, Cuando ejecuto 'Registrar language_used', Entonces la operación persiste/consulta en sessions con integridad referencial.",sessions,fileciteturn0file1 + fileciteturn0file3
FR-031,FR,Sessions,Auditar creación/actualización de sesión en 'sessions',Should,"Dado el módulo Sessions, Cuando ejecuto 'Auditar creación/actualización de sesión', Entonces la operación persiste/consulta en sessions con integridad referencial.",sessions,fileciteturn0file1 + fileciteturn0file3
FR-032,FR,Exchange Sessions,Registrar calificación usuario1 en 'exchange_sessions',Should,"Dado el módulo Exchange Sessions, Cuando ejecuto 'Registrar calificación usuario1', Entonces la operación persiste/consulta en exchange_sessions con integridad referencial.",exchange_sessions,fileciteturn0file1
FR-033,FR,Exchange Sessions,Registrar calificación usuario2 en 'exchange_sessions',Should,"Dado el módulo Exchange Sessions, Cuando ejecuto 'Registrar calificación usuario2', Entonces la operación persiste/consulta en exchange_sessions con integridad referencial.",exchange_sessions,fileciteturn0file1
FR-034,FR,Exchange Sessions,Agregar feedback de ambos usuarios en 'exchange_sessions',Should,"Dado el módulo Exchange Sessions, Cuando ejecuto 'Agregar feedback de ambos usuarios', Entonces la operación persiste/consulta en exchange_sessions con integridad referencial.",exchange_sessions,fileciteturn0file1
FR-035,FR,Exchange Sessions,Listar sesiones de intercambio por rating en 'exchange_sessions',Must,"Dado el módulo Exchange Sessions, Cuando ejecuto 'Listar sesiones de intercambio por rating', Entonces la operación persiste/consulta en exchange_sessions con integridad referencial.",exchange_sessions,fileciteturn0file1
FR-036,FR,Teaching Sessions,Registrar costo de sesión en 'teaching_sessions',Should,"Dado el módulo Teaching Sessions, Cuando ejecuto 'Registrar costo de sesión', Entonces la operación persiste/consulta en teaching_sessions con integridad referencial.",teaching_sessions,fileciteturn0file1
FR-037,FR,Teaching Sessions,Registrar notas del teacher en 'teaching_sessions',Should,"Dado el módulo Teaching Sessions, Cuando ejecuto 'Registrar notas del teacher', Entonces la operación persiste/consulta en teaching_sessions con integridad referencial.",teaching_sessions,fileciteturn0file1
FR-038,FR,Teaching Sessions,Calificar teacher y estudiante en 'teaching_sessions',Should,"Dado el módulo Teaching Sessions, Cuando ejecuto 'Calificar teacher y estudiante', Entonces la operación persiste/consulta en teaching_sessions con integridad referencial.",teaching_sessions,fileciteturn0file1
FR-039,FR,Teaching Sessions,Asignar tarea y marcar completada en 'teaching_sessions',Should,"Dado el módulo Teaching Sessions, Cuando ejecuto 'Asignar tarea y marcar completada', Entonces la operación persiste/consulta en teaching_sessions con integridad referencial.",teaching_sessions,fileciteturn0file1
FR-040,FR,Chat,Enviar mensaje con referencia a session_id en 'chat_logs',Must,"Dado el módulo Chat, Cuando ejecuto 'Enviar mensaje con referencia a session_id', Entonces la operación persiste/consulta en chat_logs con integridad referencial.",chat_logs,fileciteturn0file1
FR-041,FR,Chat,Responder a un mensaje (reply_to) en 'chat_logs',Should,"Dado el módulo Chat, Cuando ejecuto 'Responder a un mensaje (reply_to)', Entonces la operación persiste/consulta en chat_logs con integridad referencial.",chat_logs,fileciteturn0file1
FR-042,FR,Chat,Marcar mensaje como leído (is_read=true) en 'chat_logs',Should,"Dado el módulo Chat, Cuando ejecuto 'Marcar mensaje como leído (is_read=true)', Entonces la operación persiste/consulta en chat_logs con integridad referencial.",chat_logs,fileciteturn0file1
FR-043,FR,Chat,Listar mensajes por sesión ordenados por timestamp (índice) en 'chat_logs',Should,"Dado el módulo Chat, Cuando ejecuto 'Listar mensajes por sesión ordenados por timestamp (índice)', Entonces la operación persiste/consulta en chat_logs con integridad referencial.","chat_logs, índices relacionados",fileciteturn0file1
FR-044,FR,Chat,Listar no leídos por sesión (índice parcial) en 'chat_logs',Should,"Dado el módulo Chat, Cuando ejecuto 'Listar no leídos por sesión (índice parcial)', Entonces la operación persiste/consulta en chat_logs con integridad referencial.","chat_logs, índices relacionados",fileciteturn0file1
FR-045,FR,Likes,Registrar like entre usuarios en 'user_likes',Must,"Dado el módulo Likes, Cuando ejecuto 'Registrar like entre usuarios', Entonces la operación persiste/consulta en user_likes con integridad referencial.",user_likes,fileciteturn0file1
FR-046,FR,Likes,Prevenir duplicado de like en 'user_likes',Should,"Dado el módulo Likes, Cuando ejecuto 'Prevenir duplicado de like', Entonces la operación persiste/consulta en user_likes con integridad referencial.",user_likes,fileciteturn0file1
FR-047,FR,Likes,Listar likes dados y recibidos en 'user_likes',Should,"Dado el módulo Likes, Cuando ejecuto 'Listar likes dados y recibidos', Entonces la operación persiste/consulta en user_likes con integridad referencial.",user_likes,fileciteturn0file1
FR-048,FR,Matches,Crear match a partir de likes (orden user_1<user_2) en 'user_matches',Should,"Dado el módulo Matches, Cuando ejecuto 'Crear match a partir de likes (orden user_1<user_2)', Entonces la operación persiste/consulta en user_matches con integridad referencial.","user_matches, fun_insert_match",fileciteturn0file1 + fileciteturn0file9
FR-049,FR,Matches,Prevenir duplicados de match en 'user_matches',Should,"Dado el módulo Matches, Cuando ejecuto 'Prevenir duplicados de match', Entonces la operación persiste/consulta en user_matches con integridad referencial.","user_matches, fun_insert_match",fileciteturn0file1 + fileciteturn0file9
FR-050,FR,Matches,Listar matches por usuario en 'user_matches',Must,"Dado el módulo Matches, Cuando ejecuto 'Listar matches por usuario', Entonces la operación persiste/consulta en user_matches con integridad referencial.","user_matches, fun_insert_match",fileciteturn0file1 + fileciteturn0file9
FR-051,FR,Notificaciones,Crear notificación de match en 'notifications',Should,"Dado el módulo Notificaciones, Cuando ejecuto 'Crear notificación de match', Entonces la operación persiste/consulta en notifications con integridad referencial.",notifications,fileciteturn0file1
FR-052,FR,Notificaciones,Crear notificación de sesión en 'notifications',Should,"Dado el módulo Notificaciones, Cuando ejecuto 'Crear notificación de sesión', Entonces la operación persiste/consulta en notifications con integridad referencial.",notifications,fileciteturn0file1
FR-053,FR,Notificaciones,Marcar notificación como leída en 'notifications',Should,"Dado el módulo Notificaciones, Cuando ejecuto 'Marcar notificación como leída', Entonces la operación persiste/consulta en notifications con integridad referencial.",notifications,fileciteturn0file1
FR-054,FR,Notificaciones,Expirar notificaciones por expires_at en 'notifications',Should,"Dado el módulo Notificaciones, Cuando ejecuto 'Expirar notificaciones por expires_at', Entonces la operación persiste/consulta en notifications con integridad referencial.",notifications,fileciteturn0file1
FR-055,FR,Notificaciones,Listar notificaciones por usuario y estado en 'notifications',Must,"Dado el módulo Notificaciones, Cuando ejecuto 'Listar notificaciones por usuario y estado', Entonces la operación persiste/consulta en notifications con integridad referencial.",notifications,fileciteturn0file1
FR-056,FR,Preferencias,Actualizar preferencias de notificación en 'user_preferences',Should,"Dado el módulo Preferencias, Cuando ejecuto 'Actualizar preferencias de notificación', Entonces la operación persiste/consulta en user_preferences con integridad referencial.",user_preferences,fileciteturn0file1
FR-057,FR,Preferencias,Cambiar tema (light/dark) en 'user_preferences',Should,"Dado el módulo Preferencias, Cuando ejecuto 'Cambiar tema (light/dark)', Entonces la operación persiste/consulta en user_preferences con integridad referencial.",user_preferences,fileciteturn0file1
FR-058,FR,Preferencias,Actualizar duración preferida de sesión en 'user_preferences',Should,"Dado el módulo Preferencias, Cuando ejecuto 'Actualizar duración preferida de sesión', Entonces la operación persiste/consulta en user_preferences con integridad referencial.",user_preferences,fileciteturn0file1
FR-059,FR,Preferencias,Actualizar visibilidad de perfil en 'user_preferences',Should,"Dado el módulo Preferencias, Cuando ejecuto 'Actualizar visibilidad de perfil', Entonces la operación persiste/consulta en user_preferences con integridad referencial.",user_preferences,fileciteturn0file1
FR-060,FR,Progreso,Incrementar total_sessions al completar sesión en 'user_progress',Must,"Dado el módulo Progreso, Cuando ejecuto 'Incrementar total_sessions al completar sesión', Entonces la operación persiste/consulta en user_progress con integridad referencial.","user_progress, trigger update_user_progress_timestamp",fileciteturn0file1 + fileciteturn0file2
FR-061,FR,Progreso,Acumular total_hours de la sesión en 'user_progress',Should,"Dado el módulo Progreso, Cuando ejecuto 'Acumular total_hours de la sesión', Entonces la operación persiste/consulta en user_progress con integridad referencial.","user_progress, trigger update_user_progress_timestamp",fileciteturn0file1 + fileciteturn0file2
FR-062,FR,Progreso,Actualizar notas de progreso en 'user_progress',Should,"Dado el módulo Progreso, Cuando ejecuto 'Actualizar notas de progreso', Entonces la operación persiste/consulta en user_progress con integridad referencial.","user_progress, trigger update_user_progress_timestamp",fileciteturn0file1 + fileciteturn0file2
FR-063,FR,Progreso,Listar progreso por usuario e idioma en 'user_progress',Should,"Dado el módulo Progreso, Cuando ejecuto 'Listar progreso por usuario e idioma', Entonces la operación persiste/consulta en user_progress con integridad referencial.","user_progress, trigger update_user_progress_timestamp",fileciteturn0file1 + fileciteturn0file2
FR-064,FR,Progreso,Asegurar sello automático last_updated (trigger) en 'user_progress',Should,"Dado el módulo Progreso, Cuando ejecuto 'Asegurar sello automático last_updated (trigger)', Entonces la operación persiste/consulta en user_progress con integridad referencial.","user_progress, trigger update_user_progress_timestamp",fileciteturn0file1 + fileciteturn0file2
FR-065,FR,Títulos,Crear nuevos títulos (admin) en 'titles',Must,"Dado el módulo Títulos, Cuando ejecuto 'Crear nuevos títulos (admin)', Entonces la operación persiste/consulta en titles con integridad referencial.",titles,fileciteturn0file1
FR-066,FR,Títulos,Listar títulos disponibles en 'titles',Should,"Dado el módulo Títulos, Cuando ejecuto 'Listar títulos disponibles', Entonces la operación persiste/consulta en titles con integridad referencial.",titles,fileciteturn0file1
FR-067,FR,User Titles,Otorgar título a usuario en 'user_titles',Should,"Dado el módulo User Titles, Cuando ejecuto 'Otorgar título a usuario', Entonces la operación persiste/consulta en user_titles con integridad referencial.",user_titles,fileciteturn0file1
FR-068,FR,User Titles,Evitar duplicado de título por usuario en 'user_titles',Should,"Dado el módulo User Titles, Cuando ejecuto 'Evitar duplicado de título por usuario', Entonces la operación persiste/consulta en user_titles con integridad referencial.",user_titles,fileciteturn0file1
FR-069,FR,User Titles,Listar títulos por usuario en 'user_titles',Should,"Dado el módulo User Titles, Cuando ejecuto 'Listar títulos por usuario', Entonces la operación persiste/consulta en user_titles con integridad referencial.",user_titles,fileciteturn0file1
FR-070,FR,Auditoría,Registrar cambios en users en 'audit_logs',Must,"Dado el módulo Auditoría, Cuando ejecuto 'Registrar cambios en users', Entonces la operación persiste/consulta en audit_logs con integridad referencial.","audit_logs, audit_logs, audit_changes()",fileciteturn0file1 + fileciteturn0file3
FR-071,FR,Auditoría,Registrar cambios en sessions en 'audit_logs',Should,"Dado el módulo Auditoría, Cuando ejecuto 'Registrar cambios en sessions', Entonces la operación persiste/consulta en audit_logs con integridad referencial.","audit_logs, audit_logs, audit_changes()",fileciteturn0file1 + fileciteturn0file3
FR-072,FR,Auditoría,Consultar auditoría por tabla y fecha en 'audit_logs',Should,"Dado el módulo Auditoría, Cuando ejecuto 'Consultar auditoría por tabla y fecha', Entonces la operación persiste/consulta en audit_logs con integridad referencial.","audit_logs, audit_logs, audit_changes()",fileciteturn0file1 + fileciteturn0file3
FR-073,FR,Auditoría,Consultar auditoría por usuario en 'audit_logs',Should,"Dado el módulo Auditoría, Cuando ejecuto 'Consultar auditoría por usuario', Entonces la operación persiste/consulta en audit_logs con integridad referencial.","audit_logs, audit_logs, audit_changes()",fileciteturn0file1 + fileciteturn0file3
FR-074,FR,Auditoría,Tolerar fallo de auditoría sin bloquear transacción en 'audit_logs',Should,"Dado el módulo Auditoría, Cuando ejecuto 'Tolerar fallo de auditoría sin bloquear transacción', Entonces la operación persiste/consulta en audit_logs con integridad referencial.","audit_logs, audit_logs, audit_changes()",fileciteturn0file1 + fileciteturn0file3
FR-075,FR,Idiomas,Listar idiomas soportados en 'languages',Must,"Dado el módulo Idiomas, Cuando ejecuto 'Listar idiomas soportados', Entonces la operación persiste/consulta en languages con integridad referencial.","languages, fun_valida_idioma",fileciteturn0file1 + fileciteturn0file7
FR-076,FR,Idiomas,Validar código de idioma en inserts/updates en 'languages',Should,"Dado el módulo Idiomas, Cuando ejecuto 'Validar código de idioma en inserts/updates', Entonces la operación persiste/consulta en languages con integridad referencial.","languages, fun_valida_idioma",fileciteturn0file1 + fileciteturn0file7
FR-077,FR,Países,Listar países disponibles en 'countries',Should,"Dado el módulo Países, Cuando ejecuto 'Listar países disponibles', Entonces la operación persiste/consulta en countries con integridad referencial.","countries, fun_valida_pais",fileciteturn0file1 + fileciteturn0file10
FR-078,FR,Países,Validar código de país en inserts/updates en 'countries',Should,"Dado el módulo Países, Cuando ejecuto 'Validar código de país en inserts/updates', Entonces la operación persiste/consulta en countries con integridad referencial.","countries, fun_valida_pais",fileciteturn0file1 + fileciteturn0file10
FR-079,FR,Bancos,Listar bancos por país en 'banks',Should,"Dado el módulo Bancos, Cuando ejecuto 'Listar bancos por país', Entonces la operación persiste/consulta en banks con integridad referencial.","banks, fun_valida_banco",fileciteturn0file1 + fileciteturn0file4
FR-080,FR,Bancos,Validar banco (opcional) en 'banks',Must,"Dado el módulo Bancos, Cuando ejecuto 'Validar banco (opcional)', Entonces la operación persiste/consulta en banks con integridad referencial.","banks, fun_valida_banco",fileciteturn0file1 + fileciteturn0file4
FR-081,FR,Bancos,Asociar banco al usuario en 'banks',Should,"Dado el módulo Bancos, Cuando ejecuto 'Asociar banco al usuario', Entonces la operación persiste/consulta en banks con integridad referencial.","banks, fun_valida_banco",fileciteturn0file1 + fileciteturn0file4
FR-082,FR,Estadísticas,Calcular total_sessions del mes en 'monthly_stats',Should,"Dado el módulo Estadísticas, Cuando ejecuto 'Calcular total_sessions del mes', Entonces la operación persiste/consulta en monthly_stats con integridad referencial.",monthly_stats,fileciteturn0file0
FR-083,FR,Estadísticas,Calcular total_hours del mes en 'monthly_stats',Should,"Dado el módulo Estadísticas, Cuando ejecuto 'Calcular total_hours del mes', Entonces la operación persiste/consulta en monthly_stats con integridad referencial.",monthly_stats,fileciteturn0file0
FR-084,FR,Estadísticas,Insertar reporte en audit_logs en 'monthly_stats',Should,"Dado el módulo Estadísticas, Cuando ejecuto 'Insertar reporte en audit_logs', Entonces la operación persiste/consulta en monthly_stats con integridad referencial.",monthly_stats,fileciteturn0file0
FR-085,FR,Estadísticas,Actualizar user_progress para usuarios activos en el mes en 'monthly_stats',Must,"Dado el módulo Estadísticas, Cuando ejecuto 'Actualizar user_progress para usuarios activos en el mes', Entonces la operación persiste/consulta en monthly_stats con integridad referencial.",monthly_stats,fileciteturn0file0
FR-086,FR,Identificadores,Generar id_user vía secuencia en 'id',Should,"Dado el módulo Identificadores, Cuando ejecuto 'Generar id_user vía secuencia', Entonces la operación persiste/consulta en id con integridad referencial.",id,fileciteturn0file11
FR-087,FR,Identificadores,No permitir huecos voluntarios en la asignación en 'id',Should,"Dado el módulo Identificadores, Cuando ejecuto 'No permitir huecos voluntarios en la asignación', Entonces la operación persiste/consulta en id con integridad referencial.",id,fileciteturn0file11
FR-088,FR,Índices/Performance,Buscar user por email usando idx_users_email en 'indexes',Should,"Dado el módulo Índices/Performance, Cuando ejecuto 'Buscar user por email usando idx_users_email', Entonces la operación persiste/consulta en indexes con integridad referencial.","indexes, índices relacionados",fileciteturn0file1
FR-089,FR,Índices/Performance,Filtrar sesiones por usuarios/estado (idx_sessions_users_status) en 'indexes',Should,"Dado el módulo Índices/Performance, Cuando ejecuto 'Filtrar sesiones por usuarios/estado (idx_sessions_users_status)', Entonces la operación persiste/consulta en indexes con integridad referencial.","indexes, índices relacionados",fileciteturn0file1
FR-090,FR,Índices/Performance,Listar chat por sesión/tiempo (idx_chat_logs_session_time) en 'indexes',Must,"Dado el módulo Índices/Performance, Cuando ejecuto 'Listar chat por sesión/tiempo (idx_chat_logs_session_time)', Entonces la operación persiste/consulta en indexes con integridad referencial.","indexes, índices relacionados",fileciteturn0file1
FR-091,FR,Índices/Performance,Listar no leídos por sesión (idx parcial) en 'indexes',Should,"Dado el módulo Índices/Performance, Cuando ejecuto 'Listar no leídos por sesión (idx parcial)', Entonces la operación persiste/consulta en indexes con integridad referencial.","indexes, índices relacionados",fileciteturn0file1
FR-092,FR,Índices/Performance,Optimizar consulta de notificaciones por usuario/estado (idx_notifications) en 'indexes',Should,"Dado el módulo Índices/Performance, Cuando ejecuto 'Optimizar consulta de notificaciones por usuario/estado (idx_notifications)', Entonces la operación persiste/consulta en indexes con integridad referencial.","indexes, índices relacionados",fileciteturn0file1
FR-093,FR,Reporting,Exportar listados a CSV/JSON con filtros y orden,Could,"Dado un listado paginado, Cuando exporto, Entonces recibo el archivo con las columnas visibles y filtros aplicados.",Vistas SQL/consultas sobre tablas base,fileciteturn0file1
FR-094,FR,Reporting,Exportar listados a CSV/JSON con filtros y orden,Could,"Dado un listado paginado, Cuando exporto, Entonces recibo el archivo con las columnas visibles y filtros aplicados.",Vistas SQL/consultas sobre tablas base,fileciteturn0file1
FR-095,FR,Reporting,Exportar listados a CSV/JSON con filtros y orden,Could,"Dado un listado paginado, Cuando exporto, Entonces recibo el archivo con las columnas visibles y filtros aplicados.",Vistas SQL/consultas sobre tablas base,fileciteturn0file1
FR-096,FR,Reporting,Exportar listados a CSV/JSON con filtros y orden,Could,"Dado un listado paginado, Cuando exporto, Entonces recibo el archivo con las columnas visibles y filtros aplicados.",Vistas SQL/consultas sobre tablas base,fileciteturn0file1
FR-097,FR,Reporting,Exportar listados a CSV/JSON con filtros y orden,Could,"Dado un listado paginado, Cuando exporto, Entonces recibo el archivo con las columnas visibles y filtros aplicados.",Vistas SQL/consultas sobre tablas base,fileciteturn0file1
FR-098,FR,Reporting,Exportar listados a CSV/JSON con filtros y orden,Could,"Dado un listado paginado, Cuando exporto, Entonces recibo el archivo con las columnas visibles y filtros aplicados.",Vistas SQL/consultas sobre tablas base,fileciteturn0file1
FR-099,FR,Reporting,Exportar listados a CSV/JSON con filtros y orden,Could,"Dado un listado paginado, Cuando exporto, Entonces recibo el archivo con las columnas visibles y filtros aplicados.",Vistas SQL/consultas sobre tablas base,fileciteturn0file1
FR-100,FR,Reporting,Exportar listados a CSV/JSON con filtros y orden,Could,"Dado un listado paginado, Cuando exporto, Entonces recibo el archivo con las columnas visibles y filtros aplicados.",Vistas SQL/consultas sobre tablas base,fileciteturn0file1
